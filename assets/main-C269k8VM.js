(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))f(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&f(i)}).observe(document,{childList:!0,subtree:!0});function h(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function f(t){if(t.ep)return;t.ep=!0;const o=h(t);fetch(t.href,o)}})();document.addEventListener("DOMContentLoaded",()=>{lucide.createIcons(),gsap.registerPlugin(ScrollTrigger);const u=new Lenis({duration:1.2,easing:e=>Math.min(1,1.001-Math.pow(2,-10*e)),direction:"vertical",smooth:!0,smoothTouch:!1});function c(e){u.raf(e),requestAnimationFrame(c)}if(requestAnimationFrame(c),document.querySelector(".hero")){let e=null;try{e=new SplitType(".hero__title",{types:"lines, words"}).words}catch{console.warn("SplitType not loaded, fallback to opacity"),gsap.set(".hero__title",{opacity:1})}const n=gsap.timeline({defaults:{ease:"power3.out"}});n.to(".hero__badge",{y:0,opacity:1,duration:.8,delay:.2}).to(".hero__title",{opacity:1,duration:.1},"-=0.5"),e&&n.from(e,{y:50,opacity:0,rotation:3,duration:1,stagger:.04},"-=0.5"),n.to(".hero__subtitle",{y:0,opacity:1,duration:.8},"-=0.8").to(".hero__actions",{y:0,opacity:1,duration:.8},"-=0.6").to(".hero__visual",{opacity:1,duration:1.5,scale:1},"-=1")}document.querySelectorAll(".card, .section-title, .section-desc, .about__content").forEach(e=>{gsap.fromTo(e,{y:50,opacity:0},{y:0,opacity:1,duration:.8,scrollTrigger:{trigger:e,start:"top 85%",toggleActions:"play none none reverse"}})}),gsap.from(".step",{x:-50,opacity:0,duration:.8,stagger:.2,scrollTrigger:{trigger:".steps",start:"top 80%"}});const t=document.querySelector(".header__burger"),o=document.querySelector(".mobile-menu"),i=document.querySelectorAll(".mobile-menu__link");let a=!1;const E=()=>{a=!a,o.classList.toggle("is-active");const e=a?"x":"menu";t.innerHTML=`<i data-lucide="${e}"></i>`,lucide.createIcons(),a?(u.stop(),document.body.style.overflow="hidden"):(u.start(),document.body.style.overflow="")};t&&t.addEventListener("click",E),i.forEach(e=>e.addEventListener("click",()=>{a&&E()}));const p=document.getElementById("cookiePopup"),v=document.getElementById("cookieAccept");localStorage.getItem("cookiesAccepted")||setTimeout(()=>{p&&p.classList.add("show")},2e3),v&&v.addEventListener("click",()=>{localStorage.setItem("cookiesAccepted","true"),p.classList.remove("show")});const d=document.getElementById("contactForm"),y=document.getElementById("captchaQuestion"),b=document.getElementById("captchaAnswer");let I=0;y&&(()=>{const e=Math.floor(Math.random()*10)+1,n=Math.floor(Math.random()*10)+1;I=e+n,y&&(y.textContent=`${e} + ${n}`)})();const L=document.getElementById("phone");L&&L.addEventListener("input",e=>{e.target.value=e.target.value.replace(/[^0-9+ ]/g,"")}),d&&d.addEventListener("submit",e=>{e.preventDefault();let n=!0;const r=(l,m)=>{const s=document.getElementById(l);s&&(m?s.classList.add("error"):s.classList.remove("error"))},_=document.getElementById("name");_&&_.value.trim().length<2?(r("name",!0),n=!1):r("name",!1);const w=document.getElementById("email");w&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(w.value.trim())?(r("email",!0),n=!1):r("email",!1);const S=document.getElementById("phone");S&&S.value.trim().length<8?(r("phone",!0),n=!1):r("phone",!1),b&&parseInt(b.value)!==I?(r("captchaAnswer",!0),n=!1):r("captchaAnswer",!1);const A=document.getElementById("consent");if(A&&!A.checked&&(n=!1),n){const l=d.querySelector('button[type="submit"]');l&&(l.textContent="Отправка...",l.disabled=!0),setTimeout(()=>{const m=Array.from(d.children).filter(g=>g.id!=="formSuccess"),s=document.getElementById("formSuccess");gsap.to(m,{opacity:0,y:-20,duration:.5,stagger:.05,onComplete:()=>{m.forEach(g=>g.style.display="none"),s&&(s.style.display="block",gsap.fromTo(s,{opacity:0,y:20,scale:.9},{opacity:1,y:0,scale:1,duration:.5,ease:"back.out(1.7)"}))}})},1500)}})});
//# sourceMappingURL=main-C269k8VM.js.map
