{"version":3,"file":"main-C269k8VM.js","sources":["../../src/main.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n    \n    // =========================================\n    // 1. INIT LIBRARIES & UTILS\n    // =========================================\n    // Инициализация иконок\n    lucide.createIcons();\n    \n    // Регистрация плагина анимации\n    gsap.registerPlugin(ScrollTrigger);\n\n    // --- Lenis Smooth Scroll (Плавный скролл) ---\n    const lenis = new Lenis({\n        duration: 1.2,\n        easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),\n        direction: 'vertical',\n        smooth: true,\n        smoothTouch: false\n    });\n\n    function raf(time) {\n        lenis.raf(time);\n        requestAnimationFrame(raf);\n    }\n    requestAnimationFrame(raf);\n\n\n    // =========================================\n    // 2. HERO ANIMATION (Анимация первого экрана)\n    // =========================================\n    const heroSection = document.querySelector('.hero');\n    if (heroSection) {\n        // Проверка загрузки SplitType\n        let heroTitleWords = null;\n        try {\n            const heroTitle = new SplitType('.hero__title', { types: 'lines, words' });\n            heroTitleWords = heroTitle.words;\n        } catch (e) {\n            console.warn('SplitType not loaded, fallback to opacity');\n            gsap.set('.hero__title', { opacity: 1 });\n        }\n\n        const tl = gsap.timeline({ defaults: { ease: 'power3.out' } });\n\n        tl.to('.hero__badge', { y: 0, opacity: 1, duration: 0.8, delay: 0.2 })\n          .to('.hero__title', { opacity: 1, duration: 0.1 }, \"-=0.5\");\n        \n        if (heroTitleWords) {\n            tl.from(heroTitleWords, { \n                y: 50, opacity: 0, rotation: 3, duration: 1, stagger: 0.04 \n            }, \"-=0.5\");\n        }\n\n        tl.to('.hero__subtitle', { y: 0, opacity: 1, duration: 0.8 }, \"-=0.8\")\n          .to('.hero__actions', { y: 0, opacity: 1, duration: 0.8 }, \"-=0.6\")\n          .to('.hero__visual', { opacity: 1, duration: 1.5, scale: 1 }, \"-=1\");\n    }\n\n\n    // =========================================\n    // 3. SCROLL ANIMATIONS (Анимация при скролле)\n    // =========================================\n    \n    // Анимация появления карточек и текста\n    const fadeElements = document.querySelectorAll('.card, .section-title, .section-desc, .about__content');\n    \n    fadeElements.forEach(el => {\n        gsap.fromTo(el, \n            { y: 50, opacity: 0 },\n            {\n                y: 0, \n                opacity: 1, \n                duration: 0.8, \n                scrollTrigger: {\n                    trigger: el,\n                    start: \"top 85%\", \n                    toggleActions: \"play none none reverse\"\n                }\n            }\n        );\n    });\n\n    // Анимация шагов (Innovation)\n    gsap.from('.step', {\n        x: -50,\n        opacity: 0,\n        duration: 0.8,\n        stagger: 0.2,\n        scrollTrigger: {\n            trigger: '.steps',\n            start: \"top 80%\"\n        }\n    });\n\n\n    // =========================================\n    // 4. MOBILE MENU (Мобильное меню)\n    // =========================================\n    const burgerBtn = document.querySelector('.header__burger');\n    const mobileMenu = document.querySelector('.mobile-menu');\n    const menuLinks = document.querySelectorAll('.mobile-menu__link');\n    let isMenuOpen = false;\n\n    const toggleMenu = () => {\n        isMenuOpen = !isMenuOpen;\n        mobileMenu.classList.toggle('is-active');\n        const iconName = isMenuOpen ? 'x' : 'menu';\n        burgerBtn.innerHTML = `<i data-lucide=\"${iconName}\"></i>`;\n        lucide.createIcons();\n        \n        if (isMenuOpen) {\n            lenis.stop();\n            document.body.style.overflow = 'hidden';\n        } else {\n            lenis.start();\n            document.body.style.overflow = '';\n        }\n    };\n\n    if (burgerBtn) burgerBtn.addEventListener('click', toggleMenu);\n    menuLinks.forEach(link => link.addEventListener('click', () => { if(isMenuOpen) toggleMenu(); }));\n\n\n    // =========================================\n    // 5. COOKIE POPUP\n    // =========================================\n    const cookiePopup = document.getElementById('cookiePopup');\n    const cookieAcceptBtn = document.getElementById('cookieAccept');\n\n    // Проверка localStorage\n    if (!localStorage.getItem('cookiesAccepted')) {\n        setTimeout(() => {\n            if(cookiePopup) cookiePopup.classList.add('show');\n        }, 2000); \n    }\n\n    if (cookieAcceptBtn) {\n        cookieAcceptBtn.addEventListener('click', () => {\n            localStorage.setItem('cookiesAccepted', 'true');\n            cookiePopup.classList.remove('show');\n        });\n    }\n\n\n    // =========================================\n    // 6. CONTACT FORM LOGIC (FIXED)\n    // =========================================\n    const form = document.getElementById('contactForm');\n    const captchaQuestion = document.getElementById('captchaQuestion');\n    const captchaAnswerInput = document.getElementById('captchaAnswer');\n    \n    // --- Math Captcha Generation ---\n    let captchaResult = 0;\n    const initCaptcha = () => {\n        const num1 = Math.floor(Math.random() * 10) + 1;\n        const num2 = Math.floor(Math.random() * 10) + 1;\n        captchaResult = num1 + num2;\n        if(captchaQuestion) captchaQuestion.textContent = `${num1} + ${num2}`;\n    };\n    \n    if(captchaQuestion) initCaptcha();\n\n    // --- Phone Input Restriction ---\n    const phoneInput = document.getElementById('phone');\n    if (phoneInput) {\n        phoneInput.addEventListener('input', (e) => {\n            e.target.value = e.target.value.replace(/[^0-9+ ]/g, '');\n        });\n    }\n\n    // --- Form Submit ---\n    if (form) {\n        form.addEventListener('submit', (e) => {\n            e.preventDefault();\n            let isValid = true;\n\n            // Simple Validation Helpers\n            const setError = (id, show) => {\n                const el = document.getElementById(id);\n                if (el) {\n                    if(show) el.classList.add('error');\n                    else el.classList.remove('error');\n                }\n            };\n\n            // 1. Name\n            const nameEl = document.getElementById('name');\n            if (nameEl && nameEl.value.trim().length < 2) { setError('name', true); isValid = false; } \n            else setError('name', false);\n\n            // 2. Email\n            const emailEl = document.getElementById('email');\n            const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n            if (emailEl && !emailRegex.test(emailEl.value.trim())) { setError('email', true); isValid = false; }\n            else setError('email', false);\n\n            // 3. Phone\n            const phoneEl = document.getElementById('phone');\n            if (phoneEl && phoneEl.value.trim().length < 8) { setError('phone', true); isValid = false; }\n            else setError('phone', false);\n\n            // 4. Captcha\n            if (captchaAnswerInput && parseInt(captchaAnswerInput.value) !== captchaResult) {\n                setError('captchaAnswer', true); isValid = false;\n            } else {\n                setError('captchaAnswer', false);\n            }\n\n            // 5. Checkbox\n            const consentEl = document.getElementById('consent');\n            if (consentEl && !consentEl.checked) isValid = false;\n\n            if (isValid) {\n                // Имитация отправки\n                const btn = form.querySelector('button[type=\"submit\"]');\n                if(btn) {\n                    btn.textContent = 'Отправка...';\n                    btn.disabled = true;\n                }\n\n                setTimeout(() => {\n                    // ИСПРАВЛЕНИЕ: Скрываем все элементы формы КРОМЕ сообщения об успехе\n                    // Находим все элементы формы, которые не являются сообщением об успехе\n                    const formChildren = Array.from(form.children).filter(child => child.id !== 'formSuccess');\n                    const successMsg = document.getElementById('formSuccess');\n\n                    // 1. Плавно скрываем поля ввода\n                    gsap.to(formChildren, {\n                        opacity: 0,\n                        y: -20,\n                        duration: 0.5,\n                        stagger: 0.05,\n                        onComplete: () => {\n                            // 2. Убираем поля из потока (display: none)\n                            formChildren.forEach(child => child.style.display = 'none');\n                            \n                            // 3. Показываем сообщение об успехе\n                            if(successMsg) {\n                                successMsg.style.display = 'block';\n                                \n                                // 4. Анимируем появление сообщения\n                                gsap.fromTo(successMsg, \n                                    { opacity: 0, y: 20, scale: 0.9 }, \n                                    { opacity: 1, y: 0, scale: 1, duration: 0.5, ease: \"back.out(1.7)\" }\n                                );\n                            }\n                        }\n                    });\n\n                }, 1500);\n            }\n        });\n    }\n});"],"names":["lenis","t","raf","time","heroTitleWords","tl","el","burgerBtn","mobileMenu","menuLinks","isMenuOpen","toggleMenu","iconName","link","cookiePopup","cookieAcceptBtn","form","captchaQuestion","captchaAnswerInput","captchaResult","num1","num2","phoneInput","isValid","setError","id","show","nameEl","emailEl","phoneEl","consentEl","btn","formChildren","child","successMsg"],"mappings":"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"}